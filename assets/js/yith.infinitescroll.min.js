!function(f,t,m){"use strict";f.fn.yit_infinitescroll=function(e){var s=f.extend({nextSelector:!1,navSelector:!1,itemSelector:!1,contentSelector:!1,maxPage:!1,loader:!1,is_shop:!1},e),a=!1,c=!1,h=f(s.nextSelector).prop("href");f(s.nextSelector).length&&f(s.navSelector).length&&f(s.itemSelector).length&&f(s.contentSelector).length?f(s.navSelector).hide():c=!0;var d=f(s.contentSelector).find(s.itemSelector).first().nextUntil(".first",s.itemSelector).length+1,i=function(){var l=f(s.contentSelector).find(s.itemSelector).last(),e=(s.loader&&f(s.navSelector).after('<div class="yith-infs-loader">'+s.loader+"</div>"),a=!0,new URL(decodeURIComponent(h)));e.searchParams["delete"]("_"),h=e.toString().replace(/^(?:\/\/|[^\/]+)*\//,"/"),f.ajax({url:h,dataType:"html",cache:!1,success:function(e){var t,i,n,e=f(e),r=e.find(s.itemSelector),e=e.find(s.nextSelector),o=h;e.length?h=e.prop("href"):(c=!0,f(m).trigger("yith-infs-scroll-finished")),!l.hasClass("last")&&s.is_shop&&(e=r,i=(t=d)-l.prevUntil(".last",s.itemSelector).length,n=0,e.each(function(){var e=f(this);n++,e.removeClass("first"),e.removeClass("last"),(n-i)%t==0?e.addClass("first"):(n-(i-1))%t==0&&e.addClass("last")})),l.after(r),f(".yith-infs-loader").remove(),f(m).trigger("yith_infs_adding_elem",[r,o]),r.addClass("yith-infs-animated"),setTimeout(function(){a=!1,r.removeClass("yith-infs-animated"),f(m).trigger("yith_infs_added_elem",[r,o])},1e3)}})};f(t).on("scroll touchstart",function(){f(this).trigger("yith_infs_start")}),f(t).on("yith_infs_start",function(){var e=f(this),t=f(s.itemSelector).last();void 0!==t&&!a&&!c&&e.scrollTop()+e.height()>=t.offset().top-2*t.height()&&i()})}}(jQuery,window,document);